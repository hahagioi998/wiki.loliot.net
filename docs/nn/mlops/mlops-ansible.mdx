---
id: mlops-ansible
title: Ansible
sidebar_label: Ansible
description: Ansible
keywords:
  - Ansible
---

## Installation

```shell
sudo apt install -y ansible
```

## Control node

```shell
ssh-keygen -t ed25519 -N "" -f <keyfile>
```

```shell
eval "$(ssh-agent -s)"
```

```shell
ssh-add <path>/<id file>
```

```shell
ssh-copy-id -i<path>/<id file>.pub [-p<port>] <managed user>@<managed ip>
```

## Managed node

```shell
sudo vidudo

...

<user> ALL=(ALL) NOPASSWD:ALL
```

## Inventory

기본 인벤토리 파일은 `/etc/ansible/hosts` 파일입니다.

```yaml
all:
  hosts:
    <hostname>:
      ansible_host: <ip|url>
  children:
    <group>:
      hosts:
        <group:hostname>:
```

```shell
ansible all -m ping
```

## Playbook

```shell
ansible-playbook <playbook>
```

- `-i|--inventory`
- `-K|--ask-become-pass`
