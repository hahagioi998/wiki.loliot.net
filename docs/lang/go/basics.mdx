---
id: basics
title: Basics
sidebar_label: Basics
description: basics
keywords:
  - basics
---

## Installation

```shell
export GO_VERSION="1.17.7"
```

```shell
wget https://go.dev/dl/go"$GO_VERSION".linux-amd64.tar.gz
```

```shell
sudo mkdir -p /opt/go/"$GO_VERSION"
```

```shell
pv -ptrb go"$GO_VERSION".linux-amd64.tar.gz | sudo tar -xzp -C /opt/go/"$GO_VERSION"
```

```shell
export PATH=/opt/go/"$GO_VERSION"/go/bin:$PATH
```

:::info
`.zshrc` 등에 등록해서 사용할 경우에는 PATH에 버전을 명시해 주어야 합니다.
:::

## Setup

```shell
mkdir <package>
```

```shell
cd <package>
```

```shell
go mod init github.com/<user>/<package>
```

```shell
go mod tidy
```

모듈의 소스코드와 `go.mod` 파일을 비교하여 모듈을 추가 또는 제거합니다.

## Build

```shell
[envs] go build [flags] [-o <output>]
```

- `[envs]`
  - `GOOS=<os>`
  - `GOARCH=<arch>`
  - `CGO_ENABLED=0|1`: `cgo` 사용 여부
- `[flags]`
  - `-a`: 사용되는 모든 패키지를 강제로 다시 빌드합니다.
  - `-ldflags 'flags'`
    - `flags`
      - `-s`: static linking

Ex) `CGO_ENABLED=0 GOOS=darwin GOARCH=amd64 go build -a -ldflags '-s' -o app`

:::info
사용 가능한 `GOOS`와 `GOARCH`는 `go tool dist list | column -c 75 | column -t` 명령어로 알 수 있습니다.
:::

```shell
go install
```

빌드된 바이너리가 `GOBIN`경로에 설치됩니다.

## Reference

- [https://go.dev/ref/mod](https://go.dev/ref/mod)
